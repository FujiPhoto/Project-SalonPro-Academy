# LAYOUT001 共通フッター設計書

※ 本設計書は、フロント側ユーザー画面に共通で表示する「フッター」のUI/仕様を定義する。  
※ 共通ヘッダーは別途 LAYOUT002 等で定義する前提とする。

---

## 1. 画面概要

### 1.1 画面の目的

- フロント側の全ユーザー向け画面（ホーム／講座詳細／動画視聴／マイページ 等）において、  
  統一されたフッターを表示し、以下を提供することを目的とする。
  - 法的に必要な情報の掲示（利用規約・プライバシーポリシー・事業者情報 等）
  - ユーザーに対する運営主体の明示と信頼性の担保
  - サイト共通の補助ナビゲーション

### 1.2 利用者ロール

| ロールID | ロール名       | 権限概要                     |
|----------|----------------|------------------------------|
| R001     | 管理者         | フロント画面の動作確認で閲覧 |
| R002     | 受講者         | 通常利用で閲覧               |
| R003     | 未ログイン利用者 | 通常閲覧（制限なし）        |

※ フッターは参照専用であり、ロールによる制御は行わない（全ロール閲覧可能）。

### 1.3 関連機能・関連API

| 種別 | ID       | 名称                     | 用途                            |
|------|----------|--------------------------|---------------------------------|
| 機能 | F-L001   | 共通フッター表示        | 画面下部にフッターを表示        |
| 機能 | F-L002   | 利用規約リンク遷移      | 利用規約ページに遷移            |
| 機能 | F-L003   | プライバシーポリシーリンク遷移 | プライバシーポリシーページに遷移 |
| 機能 | F-L004   | 事業者情報表示          | 運営者情報の表示                |
| API  | なし     | ―                        | 初期実装では静的コンテンツとする |

※ 将来的に「事業者情報・リンク先URLを管理画面から更新可能」にする場合は、  
　`API-L001: get_site_footer_meta` 等を追加定義する。

---

## 2. 画面レイアウト設計（UI仕様）

### 2.1 ワイヤーフレーム（テキスト説明）

- 表示位置：  
  - フロント側各画面の最下部に表示（固定配置 or コンテンツ下端／詳細は実装方式に依存）
- レイアウト構成（PC想定）：
  - 左エリア：コピーライト・事業者名
  - 中央エリア：法的リンク（利用規約・プライバシーポリシー 等）
  - 右エリア：お問い合わせメールアドレス or お問い合わせページリンク

- レイアウト構成（スマホ想定）：
  - 上段：リンク群（利用規約／プライバシーポリシー／特商法ページなど）
  - 中段：事業者名・コピーライト
  - 下段：お問い合わせリンク（タップしやすいボタン／リンク）

#### 構造イメージ

- 共通フッター（全体コンテナ）
  - 左：  
    - テキスト「© {year} {事業者名}」
  - 中央：  
    - 「利用規約」リンク  
    - 「プライバシーポリシー」リンク  
    - （必要に応じて）「特定商取引法に基づく表記」リンク
  - 右：  
    - 「お問い合わせ」リンク（メールアドレス or 問い合わせフォームページ）

### 2.2 UIコンポーネント一覧

| UI ID | コンポーネント種類 | ラベル                         | 説明                                       |
|-------|---------------------|--------------------------------|--------------------------------------------|
| UI-F01 | Container          | 共通フッターコンテナ          | フッター全体を包むコンテナ                 |
| UI-F02 | Text               | コピーライト                   | 「© 2025 XXX Inc.」等                      |
| UI-F03 | Text               | 事業者名                       | 会社名／屋号                                |
| UI-F04 | Link               | 利用規約                       | 利用規約ページへのリンク                   |
| UI-F05 | Link               | プライバシーポリシー           | プライバシーポリシーページへのリンク       |
| UI-F06 | Link (任意)        | 特定商取引法に基づく表記       | 特商法ページへのリンク                     |
| UI-F07 | Link / Button      | お問い合わせ                   | メール or 問い合わせフォームへのリンク     |

※ UI-F06 は、特商法ページを別途用意する場合のみ使用。  
※ レイアウト内の並びは PC / SP でレスポンシブに出し分ける。

---

## 3. 画面項目定義（Field Definition）

### 3.1 入力項目一覧

- 共通フッターにはユーザー入力項目は存在しないため「なし」とする。

| No | UI ID | 項目名 | 型 | 必須 | 桁数 | バリデーション | 備考 |
|----|-------|--------|----|------|------|----------------|------|
| -  | -     | -      | -  | -    | -    | -              | -    |

### 3.2 表示項目一覧

※ 初期版では「静的設定」として扱うが、将来的にマスタ管理する想定でDB項目名を記載。

| No | UI ID  | 表示名                     | DB項目（想定）                 | 型      | 備考                                         |
|----|--------|----------------------------|--------------------------------|---------|----------------------------------------------|
| 1  | UI-F02 | コピーライト文言           | M_SITE_INFO.copyright_text     | string  | 例：「© 2025 XXX Inc.」                     |
| 2  | UI-F03 | 事業者名                   | M_SITE_INFO.company_name       | string  | 法人名／屋号                                 |
| 3  | UI-F04 | 利用規約リンク表示名       | M_SITE_INFO.terms_label        | string  | 例：「利用規約」                             |
| 4  | UI-F04 | 利用規約リンクURL          | M_SITE_INFO.terms_url          | string  | 例：「/terms」                               |
| 5  | UI-F05 | プライバシーポリシー表示名 | M_SITE_INFO.privacy_label      | string  | 例：「プライバシーポリシー」                 |
| 6  | UI-F05 | プライバシーポリシーURL    | M_SITE_INFO.privacy_url        | string  | 例：「/privacy」                             |
| 7  | UI-F06 | 特商法表示名（任意）       | M_SITE_INFO.tokusho_label      | string  | 例：「特定商取引法に基づく表記」             |
| 8  | UI-F06 | 特商法URL（任意）          | M_SITE_INFO.tokusho_url        | string  | 例：「/tokusho」                             |
| 9  | UI-F07 | お問い合わせ表示名         | M_SITE_INFO.contact_label      | string  | 例：「お問い合わせ」                         |
| 10 | UI-F07 | お問い合わせURL or メール  | M_SITE_INFO.contact_url        | string  | メールリンク or 問い合わせページのURL        |

---

## 4. イベント処理定義（Event & Transition）

### 4.1 ボタン／イベント一覧

| イベントID | トリガー                  | 説明                                      | 呼び出すAPI | 遷移先          |
|------------|---------------------------|-------------------------------------------|-------------|-----------------|
| EVT-F01    | 利用規約リンククリック    | 利用規約ページへ遷移                     | なし        | `/terms` 等     |
| EVT-F02    | プライバシーポリシークリック | プライバシーポリシーページへ遷移        | なし        | `/privacy` 等   |
| EVT-F03    | 特商法リンククリック       | 特商法ページへ遷移                       | なし        | `/tokusho` 等   |
| EVT-F04    | お問い合わせクリック       | お問い合わせページ or メールクライアント起動 | なし   | `/contact` or `mailto:` |

### 4.2 画面状態遷移

- 本コンポーネントは常に表示されるため、特段の状態遷移は定義しない。
  - 初期表示：テキスト／リンク表示
  - クリック時：各遷移先画面（別画面の画面IDで定義）

---

## 5. エラー・メッセージ設計

### 5.1 入力エラー

- 入力項目が存在しないため無し。

### 5.2 業務エラー

- フッター単体ではエラー表示を行わない想定とする。  
  （リンク先404 等は遷移先画面側の責務とする）

| メッセージID | 内容 | 発生条件 |
|--------------|------|----------|
| -            | -    | -        |

---

## 6. APIインターフェース仕様（画面→API）

初期実装では「静的」にハードコード or 環境設定値として実装し、  
API連携は行わない前提とするため、本項は将来用のメモに留める。

### 6.1 （将来案）リクエスト：API-L001 get_site_footer_meta

| パラメータ | 型     | 必須 | 説明                 |
|------------|--------|------|----------------------|
| lang       | string | 任意 | 表示言語（多言語対応時） |

### 6.2 （将来案）レスポンス：API-L001

- 上記 3.2 表示項目に対応するフィールド一式。

---

## 7. 権限・操作制御（RBAC）

### 7.1 操作権限表

| ロール         | 閲覧 | 登録 | 更新 | 削除 | 帳票出力 |
|----------------|------|------|------|------|----------|
| 管理者         | ○    | ×    | ×    | ×    | ×        |
| 受講者         | ○    | ×    | ×    | ×    | ×        |
| 未ログイン利用者 | ○  | ×    | ×    | ×    | ×        |

※ フッターからのリンク遷移先は、各画面の権限設定に従う。

---

## 8. 帳票設計（Report Design）

- 共通フッターから直接帳票出力を行う機能は持たないため、対象外とする。

| 帳票ID | 帳票名 | 出力形式 | 出力トリガー | 備考 |
|--------|--------|----------|--------------|------|
| -      | -      | -        | -            | -    |

---

## 9. 対応DB（参照／更新）

初期実装では DB 参照なしとするが、将来マスタ管理する場合に備え、  
想定テーブルを整理しておく。

| テーブルID   | テーブル名       | 使用用途                           | 備考                  |
|--------------|------------------|------------------------------------|-----------------------|
| M_SITE_INFO  | サイト情報マスタ | フッター用文言・リンクURLの保持   | 参照のみ（想定）      |

---

## 10. 非機能（画面観点）

| 項目               | 内容                                                         |
|--------------------|--------------------------------------------------------------|
| 表示応答時間       | ページ表示時に即時表示されること（ヘッダーと同等）         |
| レイアウト         | PC／SP のレスポンシブ対応（横並び／縦並びの切り替え）     |
| アクセシビリティ   | リンクに適切なラベルを設定し、キーボード操作でフォーカス可能 |
| 一貫性             | フロント全ページで同一レイアウト／文言が表示されること     |

---

## 11. 前提・制約

- 対象：フロント側ユーザー画面  
  - ホーム（TOP）、講座詳細、動画視聴ページ、マイページ、ログイン／会員登録画面等  
  - 管理画面（/admin 配下）には別レイアウトを採用する想定。
- 初期リリースでは文言・リンクURLはコード or 環境設定ファイルに定義し、  
  管理画面からの編集は行わない。
- 利用規約／プライバシーポリシー／特商法ページは別画面として個別に画面設計書を作成する。

---
