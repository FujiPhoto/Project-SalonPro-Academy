<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>動画視聴｜ショートカット設計の基礎と応用 | 美容オンラインアカデミー</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --color-bg: #f7f7fb;
      --color-surface: #ffffff;
      --color-primary: #e91e63;
      --color-primary-dark: #c2185b;
      --color-text: #333333;
      --color-muted: #777777;
      --shadow-soft: 0 4px 12px rgba(0, 0, 0, 0.06);
      --radius-lg: 12px;
      --radius-full: 999px;
      --max-width: 1120px;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
      background: var(--color-bg);
      color: var(--color-text);
      line-height: 1.6;
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    img, video {
      max-width: 100%;
      display: block;
    }

    .page-wrap {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    main {
      flex: 1;
    }

    .container {
      width: 100%;
      max-width: var(--max-width);
      margin: 0 auto;
      padding: 0 16px;
    }

    /* 共通ヘッダー（LAYOUT002） */

    .header {
      position: sticky;
      top: 0;
      z-index: 10;
      background: rgba(255, 255, 255, 0.96);
      backdrop-filter: blur(6px);
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.04);
    }

    .header-inner {
      display: flex;
      align-items: center;
      justify-content: space-between;
      height: 64px;
    }

    .header-left {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .logo {
      width: 32px;
      height: 32px;
      border-radius: 8px;
      background: var(--color-primary);
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      font-weight: 700;
      font-size: 18px;
      box-shadow: var(--shadow-soft);
    }

    .service-name {
      font-weight: 700;
      font-size: 16px;
    }

    .nav {
      display: flex;
      align-items: center;
      gap: 24px;
      font-size: 14px;
    }

    .nav-links {
      display: flex;
      align-items: center;
      gap: 16px;
    }

    .nav-link {
      color: var(--color-muted);
    }

    .nav-link:hover {
      color: var(--color-primary);
    }

    .nav-actions {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 8px 16px;
      border-radius: var(--radius-full);
      border: 1px solid transparent;
      font-size: 13px;
      cursor: pointer;
      background: transparent;
      color: var(--color-text);
      transition: background 0.15s ease, color 0.15s ease, box-shadow 0.15s ease,
        border-color 0.15s ease, transform 0.05s ease;
      text-decoration: none;
      white-space: nowrap;
    }

    .btn:hover {
      transform: translateY(-1px);
      box-shadow: var(--shadow-soft);
    }

    .btn-secondary {
      border-color: #dddddd;
      background: #ffffff;
    }

    .btn-primary {
      background: var(--color-primary);
      color: #ffffff;
    }

    .btn-primary:hover {
      background: var(--color-primary-dark);
    }

    .btn-muted {
      border-color: #e0e0e7;
      background: #f5f5fa;
      color: var(--color-muted);
      font-size: 12px;
      padding: 6px 10px;
    }

    .btn-ghost {
      border-color: transparent;
      background: transparent;
      color: var(--color-muted);
      padding-inline: 8px;
    }

    .nav-toggle {
      display: none;
      border: none;
      background: transparent;
      width: 40px;
      height: 40px;
      border-radius: 999px;
      align-items: center;
      justify-content: center;
      cursor: pointer;
    }

    .nav-toggle span {
      width: 20px;
      height: 2px;
      background: var(--color-text);
      position: relative;
    }

    .nav-toggle span::before,
    .nav-toggle span::after {
      content: "";
      position: absolute;
      left: 0;
      width: 20px;
      height: 2px;
      background: var(--color-text);
    }

    .nav-toggle span::before {
      top: -6px;
    }

    .nav-toggle span::after {
      top: 6px;
    }

    /* パンくず */

    .breadcrumb {
      font-size: 12px;
      color: var(--color-muted);
      padding-top: 16px;
      margin-bottom: 8px;
    }

    .breadcrumb a {
      color: var(--color-muted);
    }

    .breadcrumb a:hover {
      color: var(--color-primary);
    }

    .breadcrumb-sep {
      margin: 0 4px;
    }

    /* 動画視聴ページレイアウト（SCR103） */

    .player-page {
      padding: 8px 0 32px;
    }

    .player-layout {
      display: grid;
      grid-template-columns: minmax(0, 2.2fr) minmax(0, 1.1fr);
      gap: 24px;
      align-items: flex-start;
    }

    /* 左カラム：動画プレイヤー＋情報 */

    .player-main {
      background: var(--color-surface);
      border-radius: 20px;
      padding: 16px 16px 14px;
      box-shadow: var(--shadow-soft);
    }

    .player-course-title {
      font-size: 13px;
      color: var(--color-muted);
      margin-bottom: 4px;
    }

    .player-video-title {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 12px;
    }

    .player-meta-row {
      display: flex;
      align-items: center;
      flex-wrap: wrap;
      gap: 8px;
      font-size: 11px;
      color: var(--color-muted);
      margin-bottom: 8px;
    }

    .pill {
      padding: 3px 8px;
      border-radius: var(--radius-full);
      background: #f5f5fa;
      color: var(--color-muted);
      font-size: 11px;
    }

    .pill-primary {
      background: #fff0f6;
      color: var(--color-primary-dark);
    }

    .video-container {
      position: relative;
      background: #000;
      border-radius: 12px;
      overflow: hidden;
      margin-bottom: 8px;
    }

    .video-element {
      width: 100%;
      max-height: 420px;
      background: #000;
    }

    .video-note {
      font-size: 11px;
      color: var(--color-muted);
      margin-bottom: 8px;
    }

    .player-controls-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
      margin-bottom: 4px;
      font-size: 12px;
    }

    .control-group {
      display: flex;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
    }

    .control-label {
      font-size: 12px;
      color: var(--color-muted);
    }

    .control-select {
      padding: 4px 8px;
      border-radius: 999px;
      border: 1px solid #dddddd;
      font-size: 12px;
      background: #ffffff;
    }

    .progress-info {
      font-size: 11px;
      color: var(--color-muted);
      margin-bottom: 4px;
    }

    .player-nav-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
      margin-top: 6px;
    }

    .player-nav-buttons {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    /* 右カラム：カリキュラム一覧 */

    .player-aside {
      position: sticky;
      top: 80px;
    }

    .curriculum-box {
      background: var(--color-surface);
      border-radius: 16px;
      padding: 12px 12px 10px;
      box-shadow: var(--shadow-soft);
      border: 1px solid #f0f0f5;
      font-size: 13px;
    }

    .curriculum-header {
      display: flex;
      align-items: baseline;
      justify-content: space-between;
      gap: 8px;
      margin-bottom: 6px;
    }

    .curriculum-title {
      font-size: 14px;
      font-weight: 600;
    }

    .curriculum-sub {
      font-size: 11px;
      color: var(--color-muted);
    }

    .lesson-list {
      margin: 0;
      padding: 0;
      list-style: none;
      font-size: 13px;
      max-height: 420px;
      overflow-y: auto;
    }

    .lesson-item {
      display: grid;
      grid-template-columns: minmax(0, 1fr) auto auto;
      gap: 6px;
      align-items: center;
      padding: 8px 8px;
      border-radius: 10px;
      margin-bottom: 4px;
      cursor: pointer;
      transition: background 0.12s ease;
    }

    .lesson-item:hover {
      background: #fafafa;
    }

    .lesson-item.is-active {
      background: #fff0f6;
    }

    .lesson-title-row {
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .lesson-index {
      font-size: 11px;
      color: var(--color-muted);
      padding: 2px 6px;
      border-radius: 999px;
      background: #f5f5fa;
    }

    .lesson-title {
      font-weight: 500;
      font-size: 13px;
    }

    .lesson-meta {
      font-size: 11px;
      color: var(--color-muted);
      text-align: right;
      white-space: nowrap;
    }

    .lesson-status {
      font-size: 11px;
      text-align: right;
      white-space: nowrap;
    }

    .lesson-status span {
      padding: 3px 6px;
      border-radius: var(--radius-full);
      background: #e3f7ff;
      color: #0077b6;
      border: 1px solid #c4ebff;
    }

    .lesson-status span.is-done {
      background: #e3ffe7;
      border-color: #b5f0c2;
      color: #2e7d32;
    }

    /* 共通フッター（LAYOUT001） */

    .footer {
      margin-top: 24px;
      border-top: 1px solid #e5e5ee;
      background: #ffffff;
    }

    .footer-inner {
      padding: 16px 0;
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      font-size: 12px;
      color: var(--color-muted);
    }

    .footer-links {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
    }

    .footer-links a {
      color: var(--color-muted);
    }

    .footer-links a:hover {
      color: var(--color-primary);
    }

    /* レスポンシブ */

    @media (max-width: 960px) {
      .player-layout {
        grid-template-columns: minmax(0, 1fr);
      }
      .player-aside {
        position: static;
      }
    }

    @media (max-width: 720px) {
      .header-inner {
        height: 56px;
      }

      .nav-toggle {
        display: flex;
      }

      .nav-links {
        position: absolute;
        top: 56px;
        left: 0;
        right: 0;
        background: #ffffff;
        border-bottom: 1px solid #eeeeee;
        flex-direction: column;
        padding: 8px 16px 12px;
        display: none;
      }

      .nav-links.open {
        display: flex;
      }

      .nav {
        gap: 0;
      }

      .nav-actions {
        flex-direction: column;
        align-items: stretch;
      }

      .player-main {
        padding: 14px 12px;
      }

      .lesson-item {
        grid-template-columns: minmax(0, 1fr);
        align-items: flex-start;
      }

      .lesson-meta,
      .lesson-status {
        text-align: left;
      }

      .footer-inner {
        align-items: flex-start;
      }
    }
  </style>
</head>
<body>
<div class="page-wrap">

  <!-- 共通ヘッダー -->
  <header class="header">
    <div class="container header-inner">
      <div class="header-left">
        <a href="/" class="logo" aria-label="ホームへ">
          <span>B</span>
        </a>
        <div class="service-name">美容オンラインアカデミー</div>
      </div>

      <nav class="nav">
        <div class="nav-links" id="navLinks">
          <a href="/courses" class="nav-link">講座一覧</a>
          <a href="/about" class="nav-link">サービス紹介</a>
          <div class="nav-actions">
            <!-- 未ログイン状態サンプル。ログイン済み表示は実装側で出し分け想定 -->
            <a href="/login" class="btn btn-secondary">ログイン</a>
            <a href="/signup" class="btn btn-primary">会員登録</a>
          </div>
        </div>
        <button class="nav-toggle" type="button" aria-label="メニューを開く" onclick="toggleMenu()">
          <span></span>
        </button>
      </nav>
    </div>
  </header>

  <main>
    <section class="player-page">
      <div class="container">

        <!-- パンくず（任意） -->
        <nav class="breadcrumb" aria-label="パンくずリスト">
          <a href="/">TOP</a>
          <span class="breadcrumb-sep">›</span>
          <a href="/courses?category=cut">カット</a>
          <span class="breadcrumb-sep">›</span>
          <a href="/courses/1">ショートカット設計の基礎と応用</a>
          <span class="breadcrumb-sep">›</span>
          <span>#01 骨格・顔型の捉え方</span>
        </nav>

        <div class="player-layout">
          <!-- 左カラム：動画プレイヤー -->
          <section class="player-main" aria-label="動画プレイヤー">
            <div class="player-course-title">ショートカット設計の基礎と応用</div>
            <h1 class="player-video-title">#01 ショートカットにおける骨格・顔型の捉え方</h1>

            <div class="player-meta-row">
              <span class="pill pill-primary">レッスン 1 / 8</span>
              <span class="pill">再生時間：約 12 分</span>
              <span>最終視聴：2025/11/15 22:34（サンプル）</span>
            </div>

            <div class="video-container">
              <!-- 実装時は video_url を埋め込む想定 -->
              <video
                id="lessonVideo"
                class="video-element"
                controls
                preload="metadata"
              >
                <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4" />
                お使いのブラウザは動画タグに対応していません。
              </video>
            </div>

            <div class="video-note">
              ※ サンプル画面のため、実際の講座動画・DRM・アクセス制御等は未実装です。<br />
              本番実装では、購入済みチェック（T_ENROLLMENT）と視聴ログ保存（T_PLAYLOG）をAPI経由で行います。
            </div>

            <div class="player-controls-row">
              <div class="control-group">
                <span class="control-label">再生速度：</span>
                <select id="playbackRate" class="control-select">
                  <option value="1.0">1.0x（標準）</option>
                  <option value="1.25">1.25x</option>
                  <option value="1.5">1.5x</option>
                  <option value="2.0">2.0x</option>
                </select>
              </div>
              <div class="control-group">
                <span class="control-label">進捗：</span>
                <span class="progress-info" id="progressInfo">再生位置 0:00 / 12:00（サンプル）</span>
              </div>
            </div>

            <div class="progress-info">
              ※ 一定間隔で再生位置を保存（API122: save_playback_progress を想定）。
            </div>

            <div class="player-nav-row">
              <div class="player-nav-buttons">
                <button type="button" class="btn btn-secondary btn-prev">
                  ‹ 前の動画へ
                </button>
                <button type="button" class="btn btn-secondary btn-next">
                  次の動画へ ›
                </button>
              </div>
              <a href="/courses/1" class="btn btn-ghost">
                講座詳細へ戻る
              </a>
            </div>
          </section>

          <!-- 右カラム：カリキュラム一覧 -->
          <aside class="player-aside" aria-label="カリキュラム一覧">
            <section class="curriculum-box">
              <div class="curriculum-header">
                <div>
                  <div class="curriculum-title">カリキュラム</div>
                  <div class="curriculum-sub">
                    クリックで動画を切り替えます（サンプルのため画面内のみ切替）。
                  </div>
                </div>
                <button type="button" class="btn btn-muted" style="font-size: 11px;">
                  全 8 本
                </button>
              </div>

              <ol class="lesson-list" id="lessonList">
                <li class="lesson-item is-active" data-video-id="1">
                  <div class="lesson-title-row">
                    <span class="lesson-index">#01</span>
                    <div class="lesson-title">骨格・顔型の捉え方</div>
                  </div>
                  <div class="lesson-meta">12分</div>
                  <div class="lesson-status">
                    <span class="is-done">視聴済み</span>
                  </div>
                </li>
                <li class="lesson-item" data-video-id="2">
                  <div class="lesson-title-row">
                    <span class="lesson-index">#02</span>
                    <div class="lesson-title">ベースカット設計：ブロッキングとガイド</div>
                  </div>
                  <div class="lesson-meta">15分</div>
                  <div class="lesson-status">
                    <span>未視聴</span>
                  </div>
                </li>
                <li class="lesson-item" data-video-id="3">
                  <div class="lesson-title-row">
                    <span class="lesson-index">#03</span>
                    <div class="lesson-title">アウトラインとウエイトコントロール</div>
                  </div>
                  <div class="lesson-meta">14分</div>
                  <div class="lesson-status">
                    <span>未視聴</span>
                  </div>
                </li>
                <li class="lesson-item" data-video-id="4">
                  <div class="lesson-title-row">
                    <span class="lesson-index">#04</span>
                    <div class="lesson-title">質感調整と似合わせバリエーション</div>
                  </div>
                  <div class="lesson-meta">11分</div>
                  <div class="lesson-status">
                    <span>未視聴</span>
                  </div>
                </li>
                <li class="lesson-item" data-video-id="5">
                  <div class="lesson-title-row">
                    <span class="lesson-index">#05</span>
                    <div class="lesson-title">生えグセ・毛量に応じた微調整</div>
                  </div>
                  <div class="lesson-meta">10分</div>
                  <div class="lesson-status">
                    <span>未視聴</span>
                  </div>
                </li>
                <li class="lesson-item" data-video-id="6">
                  <div class="lesson-title-row">
                    <span class="lesson-index">#06</span>
                    <div class="lesson-title">カウンセリング〜提案トーク</div>
                  </div>
                  <div class="lesson-meta">8分</div>
                  <div class="lesson-status">
                    <span>未視聴</span>
                  </div>
                </li>
                <li class="lesson-item" data-video-id="7">
                  <div class="lesson-title-row">
                    <span class="lesson-index">#07</span>
                    <div class="lesson-title">タイムコントロール実例</div>
                  </div>
                  <div class="lesson-meta">10分</div>
                  <div class="lesson-status">
                    <span>未視聴</span>
                  </div>
                </li>
                <li class="lesson-item" data-video-id="8">
                  <div class="lesson-title-row">
                    <span class="lesson-index">#08</span>
                    <div class="lesson-title">モデル施術デモ：仕上がりまで</div>
                  </div>
                  <div class="lesson-meta">10分</div>
                  <div class="lesson-status">
                    <span>未視聴</span>
                  </div>
                </li>
              </ol>
            </section>
          </aside>
        </div>
      </div>
    </section>
  </main>

  <!-- 共通フッター -->
  <footer class="footer">
    <div class="container footer-inner">
      <div>© 2025 Beauty Online Academy Inc.</div>
      <div class="footer-links">
        <a href="/terms">利用規約</a>
        <a href="/privacy">プライバシーポリシー</a>
        <a href="/tokusho">特定商取引法に基づく表記</a>
        <a href="/contact">お問い合わせ</a>
      </div>
    </div>
  </footer>

</div>

<script>
  function toggleMenu() {
    var nav = document.getElementById("navLinks");
    if (nav) {
      nav.classList.toggle("open");
    }
  }

  // 再生速度切替（簡易実装）
  (function () {
    var video = document.getElementById("lessonVideo");
    var rateSelect = document.getElementById("playbackRate");
    if (video && rateSelect) {
      rateSelect.addEventListener("change", function () {
        var rate = parseFloat(this.value || "1.0");
        video.playbackRate = rate;
      });
    }
  })();

  // カリキュラムのクリックで選択状態だけ切替（API121連携は本番実装側で）
  (function () {
    var list = document.getElementById("lessonList");
    if (!list) return;
    list.addEventListener("click", function (e) {
      var item = e.target.closest(".lesson-item");
      if (!item) return;

      list.querySelectorAll(".lesson-item").forEach(function (li) {
        li.classList.remove("is-active");
      });
      item.classList.add("is-active");

      // 本番実装では、ここで course_id, video_id を使って
      // get_playback_context(API121) を呼び出し、動画とタイトルを差し替える想定
      console.log("Selected video_id:", item.getAttribute("data-video-id"));
    });
  })();
</script>
</body>
</html>
